!function t(e,n,i){function r(u,a){if(!n[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var d=n[u]={exports:{}};e[u][0].call(d.exports,(function(t){return r(e[u][1][t]||t)}),d,d.exports,t,e,n,i)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(t,e,n){"use strict";document.addEventListener("DOMContentLoaded",(function(t){var e,n=document.getElementById("editor-source"),i=new ComponentRelay({targetWindow:window,onReady:function(){var t=i.platform;t&&document.body.classList.add(t)},handleRequestForContentHeight:function(){}});i.streamContextItem((function(t){e=t,t.isMetadataUpdate||(n.value=t.content.text,window.upmath.updateText(),n.setAttribute("spellcheck",JSON.stringify(e.content.spellcheck)))})),n.addEventListener("input",(function(t){var r=n.value||"";if(e){var o=e;i.saveItemWithPresave(o,(function(){window.upmath.updateText();var t,e,n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;return t.length<=e?t:t.substring(0,e)+"..."}((t=window.upmath.getHTML(),(e=document.implementation.createHTMLDocument("New").body).innerHTML=t,e.textContent||e.innerText||""));o.content.preview_plain=n,o.content.preview_html=null,o.content.text=r}))}})),n.addEventListener("keydown",(function(t){if(!t.shiftKey&&9==t.which&&(t.preventDefault(),!document.execCommand("insertText",!1,"\t"))){var e=this.selectionStart,n=this.selectionEnd;this.value=this.value.substring(0,e)+"    "+this.value.substring(n),this.selectionStart=this.selectionEnd=e+4}}))}))},{}]},{},[1]);